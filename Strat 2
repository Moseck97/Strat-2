openapi: 3.1.0
info:
  title: API Analytique Stratégique Avancée
  version: 1.0.0
  description: >
    Module complémentaire à l’API Analyste Stratégique d’Entreprise.
    Permet de générer des matrices BCG, analyser la concurrence, visualiser un business model canvas,
    détecter les signaux faibles, et évaluer la maturité stratégique.

servers:
  - url: https://api.strategie-gpt.com/v1
    description: Serveur secondaire – Analytique stratégique complémentaire

paths:
  /analyse-concurrence:
    post:
      operationId: analyserConcurrence
      summary: Analyse structurée de la concurrence
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - secteur
                - concurrents
              properties:
                secteur:
                  type: string
                  description: "Secteur ciblé. Ex : 'Mobilité urbaine en Afrique'"
                concurrents:
                  type: array
                  description: "Liste des concurrents principaux"
                  items:
                    type: string
      responses:
        '200':
          description: Analyse concurrentielle synthétique
          content:
            application/json:
              schema:
                type: object
                properties:
                  mappingPositionnement:
                    type: string
                  avantagesComparatifs:
                    type: array
                    items:
                      type: string
                  risques:
                    type: array
                    items:
                      type: string
        '400':
          description: Données manquantes
        '500':
          description: Erreur serveur

  /matrice-bcg:
    post:
      operationId: genererMatriceBCG
      summary: Générer une matrice BCG à partir d’un portefeuille de produits
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - produits
              properties:
                produits:
                  type: array
                  items:
                    type: object
                    required:
                      - nom
                      - partDeMarche
                      - croissanceMarche
                    properties:
                      nom:
                        type: string
                      partDeMarche:
                        type: number
                      croissanceMarche:
                        type: number
      responses:
        '200':
          description: Matrice BCG classifiée
          content:
            application/json:
              schema:
                type: object
                properties:
                  etoiles:
                    type: array
                    items:
                      type: string
                  dilemmes:
                    type: array
                    items:
                      type: string
                  vachesALait:
                    type: array
                    items:
                      type: string
                  poidsMorts:
                    type: array
                    items:
                      type: string
        '400':
          description: Format de produit invalide
        '500':
          description: Erreur serveur

  /bmc:
    post:
      operationId: genererBusinessModelCanvas
      summary: Générer un Business Model Canvas (BMC)
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - nomProjet
              properties:
                nomProjet:
                  type: string
                descriptionProjet:
                  type: string
                cible:
                  type: string
                valeurAjoutee:
                  type: string
      responses:
        '200':
          description: BMC structuré
          content:
            application/json:
              schema:
                type: object
                properties:
                  partenairesCles:
                    type: string
                  activitesCles:
                    type: string
                  ressourcesCles:
                    type: string
                  propositionsValeur:
                    type: string
                  relationsClients:
                    type: string
                  canaux:
                    type: string
                  segmentsClients:
                    type: string
                  structureCouts:
                    type: string
                  sourcesRevenus:
                    type: string
        '400':
          description: Données incomplètes
        '500':
          description: Erreur serveur

  /maturite-strategique:
    post:
      operationId: evaluerMaturiteStrategique
      summary: Évaluer le niveau de maturité stratégique d’une organisation
      requestBody:
        required: false
        content:
          application/json:
            schema:
              type: object
              properties:
                typeOrganisation:
                  type: string
                  description: "Exemple : PME, startup, ONG"
                anneeCreation:
                  type: number
                secteur:
                  type: string
      responses:
        '200':
          description: Score et recommandations
          content:
            application/json:
              schema:
                type: object
                properties:
                  score:
                    type: number
                  niveau:
                    type: string
                  recommandations:
                    type: array
                    items:
                      type: string
        '500':
          description: Erreur serveur

  /signaux-faibles:
    get:
      operationId: detecterSignauxFaibles
      summary: Identifier les signaux faibles dans un secteur donné
      parameters:
        - name: secteur
          in: query
          required: true
          description: "Secteur d’activité à analyser"
          schema:
            type: string
      responses:
        '200':
          description: Liste de signaux faibles
          content:
            application/json:
              schema:
                type: object
                properties:
                  signaux:
                    type: array
                    items:
                      type: string
        '400':
          description: Secteur manquant
        '500':
          description: Erreur serveur
